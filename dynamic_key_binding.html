<html>
    <head>
        <title>Dynamic Key Binding</title>
        <link rel="stylesheet" href="dynamic_key_binding.css">
    </head>
    <script type="text/javascript">
        document.onkeydown = (event => {
            event.preventDefault()
            const {key, shiftKey, ctrlKey, altKey, metaKey, code} = event
            var preview = ""
            const keyPreview = filterAcceptableKey(code)
            if (ctrlKey) preview += "⌃+"
            if (shiftKey) preview += "⇧+"
            if (altKey) preview += "⌥+"
            if (metaKey) preview += "⌘+"
            if (keyPreview !== undefined) preview += keyPreview
            document.getElementById('previewer').value = preview
        })
        function filterAcceptableKey(code) {
            return acceptableKeys[code]
        }
        const acceptableKeys = {
            "KeyA": "A",
            "KeyB": "B",
            "KeyC": "C",
            "KeyD": "D",
            "KeyE": "E",
            "KeyF": "F",
            "KeyG": "G",
            "KeyH": "H",
            "KeyI": "I",
            "KeyJ": "J",
            "KeyK": "K",
            "KeyL": "L",
            "KeyM": "M",
            "KeyN": "N",
            "KeyO": "O",
            "KeyP": "P",
            "KeyQ": "Q",
            "KeyR": "R",
            "KeyS": "S",
            "KeyT": "T",
            "KeyU": "U",
            "KeyV": "V",
            "KeyW": "W",
            "KeyX": "X",
            "KeyY": "Y",
            "KeyZ": "Z",
            "Digit0": "0",
            "Digit1": "1",
            "Digit2": "2",
            "Digit3": "3",
            "Digit4": "4",
            "Digit5": "5",
            "Digit6": "6",
            "Digit7": "7",
            "Digit8": "8",
            "Digit9": "9",
            "Minus": "-",
            "Equal": "=",
            "BracketLeft": "[",
            "BracketRight": "]",
            "Semicolon": ";",
            "Quote": "\"",
            "Backslash": "\\",
            "Slash": "/",
            "F1": "F1",
            "F2": "F2",
            "F3": "F3",
            "F4": "F4",
            "F5": "F5",
            "F6": "F6",
            "F7": "F7",
            "F8": "F8",
            "F9": "F9",
            "F10": "F10",
            "F11": "F11",
            "F12": "F12",
            "ArrowLeft": "←",
            "ArrowUp": "↑",
            "ArrowRight": "→",
            "ArrowDown": "↓",
        }
    </script>
    <body>
        <div style="position: fixed; top: 0px; left: 0px; right: 0px; bottom: 0px; background-color: rgba(255, 255, 255, 0); display: flex; flex-direction: row; align-items: flex-start; justify-content: center; z-index: 100000;">
            <div style="border: 0px; background: rgb(255, 255, 255); overflow: auto; border-radius: 4px; outline: none; padding: 0px; margin-top: 20vh; margin-left: 24px; margin-right: 24px; max-width: 400px; flex-grow: 1; box-shadow: rgba(29, 17, 17, 0.15) 0px 5px 12px;">
                <div class="flexbox flexbox-direction-column flexbox-grow-1 radius-small border-width-normal border-solid border-color-shade">
                    <div class="font-size-medium font-weight-medium line-height-medium shade-087 flexbox flexbox-centered margin-top-medium margin-horizontal-smaller">Press key combination and then confirm ENTER</div>
                    <div class="flexbox flexbox-direction-column margin-smaller">
                        <input class="font-size-medium font-weight-medium line-height-medium shade-087 text-center" id="previewer"/>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>